<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Senderos 1A – Lección Preliminar · HTML Anki</title>
    <link rel="stylesheet" href="./styles.css" />
    <link
      href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet"
    />
  </head>
  <body>
    <header>
      <h1>Senderos 1A · Lección Preliminar — HTML Anki (Spaced Repetition)</h1>
      <div class="badges">
        <span class="chip">Local-first</span>
        <span class="chip">Spaced Repetition</span>
        <span class="chip">By Category</span>
      </div>
    </header>

    <div class="container">
      <aside>
        <div class="section">
          <h3>Study Scope</h3>
          <div id="categoryContainer">
            <div class="categories" id="categoryList"></div>
            <div class="category-controls">
              <button class="btn outline" id="allOffBtn">All Off</button>
              <button class="btn outline" id="allOnBtn">All On</button>
              <button class="btn outline" id="dueNowBtn">Review Due Now</button>
            </div>
          </div>
          <div id="dueNowContainer" class="hidden">
            <div class="categories" id="dueNowList"></div>
            <div class="category-controls">
              <button class="btn outline" id="backToAllBtn">
                Back to All Categories
              </button>
            </div>
          </div>
        </div>
        <div class="section controls">
          <h3>Settings</h3>
          <div class="row">
            <label>
              Direction:
              <select id="direction">
                <option value="es-en">Spanish Text → English Text</option>
                <option value="en-es">English Text → Spanish Text</option>
                <option value="es-en-voice">
                  Spanish Text → English Voice
                </option>
                <option value="en-es-voice">
                  English Text → Spanish Voice
                </option>
                <option value="es-voice-en">
                  Spanish Voice → English Text
                </option>
                <option value="en-voice-es">
                  English Voice → Spanish Text
                </option>
                <option value="mix">Mix</option>
              </select>
            </label>
            <label>
              Max New / Session:
              <input id="maxNew" type="number" value="999" min="1" />
            </label>
          </div>
          <div class="row">
            <button class="btn accent" id="startBtn">Start / Resume</button>
            <button class="btn outline" id="exportBtn">Export Progress</button>
            <label class="btn outline" for="importFile" style="cursor: pointer">
              Import Progress
            </label>
            <input
              id="importFile"
              type="file"
              accept="application/json"
              style="display: none"
            />
            <label
              class="btn outline"
              for="importCardsFile"
              style="cursor: pointer"
            >
              Import Cards
            </label>
            <input
              id="importCardsFile"
              type="file"
              accept="application/json"
              style="display: none"
            />
            <button
              class="btn danger"
              id="resetBtn"
              title="Clears all scheduling data"
            >
              Reset Progress
            </button>
            <button
              class="btn danger"
              id="resetCardsBtn"
              title="Removes all imported cards"
            >
              Reset Cards
            </button>
          </div>
        </div>
        <div class="section">
          <h3>Session Stats</h3>
          <div class="stats">
            <div class="stat" id="dueStat">Due now: 0</div>
            <div class="stat" id="newStat">New left: 0</div>
            <div class="stat" id="seenStat">Seen this session: 0</div>
          </div>
        </div>
      </aside>

      <main>
        <div class="card" id="card">
          <div class="meta" id="cardMeta">Pick categories and press Start</div>
          <div class="front-container">
            <div class="front" id="front"></div>
            <button
              class="btn audio-btn"
              id="speakBtn"
              title="Listen to Spanish"
            >
              <span class="material-icons">volume_up</span>
            </button>
          </div>
          <div class="back hidden" id="back"></div>
          <div class="small" id="hint"></div>
          <div class="row">
            <input
              type="text"
              id="answerInput"
              class="answer-input"
              placeholder="Type your answer..."
            />
          </div>
          <div class="row">
            <button class="btn" id="flipBtn">Check Answer (Enter)</button>
          </div>
          <div class="grade-bar hidden" id="gradeBar">
            <button class="grade g-again" data-grade="1">Again</button>
            <button class="grade g-hard" data-grade="2">Hard</button>
            <button class="grade g-good" data-grade="3">Good</button>
            <button class="grade g-easy" data-grade="4">Easy</button>
          </div>
        </div>

        <div class="footer">
          Spaced repetition data is saved in your browser (localStorage). You
          can export/import JSON anytime.
        </div>
      </main>
    </div>

    <script type="module" src="./js/app.js"></script>
  </body>
</html>
